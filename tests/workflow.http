@baseUrl = http://localhost:4000/api

### 1. Register
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "email": "workflow@example.com",
  "password": "Workflow123!"
}

###

### 2. Login
# @name login
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "workflow@example.com",
  "password": "Workflow123!"
}

###

### Auth Token
@accessToken = {{login.response.body.data.access_token}}

###

### 3. Get Me
GET {{baseUrl}}/auth/me
Authorization: Bearer {{accessToken}}

###

### 4. Ingest Document (PDF File Upload)
POST {{baseUrl}}/ingest
Authorization: Bearer {{accessToken}}
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="file"; filename="Building_Efficient_SLM.pdf"
Content-Type: application/pdf

< ./Building_Efficient_SLM.pdf
------WebKitFormBoundary7MA4YWxkTrZu0gW--

###

### 4b. Ingest Document (Text Alternative)
POST {{baseUrl}}/ingest
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "text": "Neural networks are computing systems inspired by biological neural networks. They consist of interconnected nodes that process information."
}

###

### 5. Create Conversation
# @name createConversation
POST {{baseUrl}}/conversations
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "title": "AI Discussion"
}

###

### Conversation Id
@conversationId = {{createConversation.response.body.data.id}}

###

### 6. Chat
POST {{baseUrl}}/chat
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "question": "What are neural networks?",
  "stream": true
}

###

### 7. Get Conversation
GET {{baseUrl}}/conversations/{{conversationId}}
Authorization: Bearer {{accessToken}}

###

### 8. Create Mindmap
POST {{baseUrl}}/mindmaps
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "title": "Test Mindmap"
}

###

### 9. List Conversations
GET {{baseUrl}}/conversations
Authorization: Bearer {{accessToken}}

###

### 10. List Mindmaps
GET {{baseUrl}}/mindmaps
Authorization: Bearer {{accessToken}}

###

### 11. Update Conversation
PUT {{baseUrl}}/conversations/{{conversationId}}
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "title": "Updated Discussion"
}

###

### 12. Query
POST {{baseUrl}}/query
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "question": "What is AI?",
  "stream": false
}
