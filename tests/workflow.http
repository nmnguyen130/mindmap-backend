@baseUrl = http://localhost:4000/api

### 1. Register
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "email": "workflow@example.com",
  "password": "Workflow123!"
}

###

### 2. Login
# @name login
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "workflow@example.com",
  "password": "Workflow123!"
}

###

### Auth Token
@accessToken = {{login.response.body.data.access_token}}

###

### 3. Get Me
GET {{baseUrl}}/auth/me
Authorization: Bearer {{accessToken}}

###

### 4. Upload PDF - Document Only (No Mindmap)
# @name uploadDocument
POST {{baseUrl}}/rag/create-from-pdf
Authorization: Bearer {{accessToken}}
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="file"; filename="Building_Efficient_SLM.pdf"
Content-Type: application/pdf

< ./Building_Efficient_SLM.pdf
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="title"

Building Efficient SLM
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="generateMindmap"

false
------WebKitFormBoundary7MA4YWxkTrZu0gW--

###

### 5. Upload PDF with Mindmap Generation
# @name uploadWithMindmap
POST {{baseUrl}}/rag/create-from-pdf
Authorization: Bearer {{accessToken}}
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="file"; filename="Building_Efficient_SLM.pdf"
Content-Type: application/pdf

< ./Building_Efficient_SLM.pdf
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="title"

SLM Guide with Mindmap
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="generateMindmap"

true
------WebKitFormBoundary7MA4YWxkTrZu0gW--

###

### Document ID
@documentId = ebd75e05-7f31-4439-b64d-8d7b4564efb7

###

### Mindmap ID (from upload with mindmap)
@mindmapId = {{uploadWithMindmap.response.body.data.mindmap.id}}

###

### 6. Chat with Document (RAG)
POST {{baseUrl}}/rag/chat
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "question": "What are the key points about efficient SLMs?",
  "document_id": "{{documentId}}",
  "match_threshold": 0.78,
  "match_count": 5
}

###

### 7. Chat with All Documents (No Filter)
POST {{baseUrl}}/rag/chat
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "question": "Summarize what you know about machine learning",
  "match_threshold": 0.7,
  "match_count": 10
}

###

### 8. List Documents
GET {{baseUrl}}/rag/documents
Authorization: Bearer {{accessToken}}

###

### 9. Get Document Details with Sections
GET {{baseUrl}}/rag/documents/{{documentId}}
Authorization: Bearer {{accessToken}}

###

### 10. List Mindmaps
GET {{baseUrl}}/mindmaps
Authorization: Bearer {{accessToken}}

###

### 11. Get Mindmap Details
GET {{baseUrl}}/mindmaps/{{mindmapId}}
Authorization: Bearer {{accessToken}}

###

### 12. Create Empty Mindmap
# @name createEmptyMindmap
POST {{baseUrl}}/mindmaps
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "title": "Manual Mindmap"
}

###

### Empty Mindmap ID
@emptyMindmapId = {{createEmptyMindmap.response.body.data.id}}

###

### 13. Update Mindmap
PUT {{baseUrl}}/mindmaps/{{emptyMindmapId}}
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "title": "Updated Manual Mindmap",
  "version": 2
}

###

### 14. Delete Mindmap
DELETE {{baseUrl}}/mindmaps/{{emptyMindmapId}}
Authorization: Bearer {{accessToken}}

###

### 15. Delete Document
DELETE {{baseUrl}}/rag/documents/{{documentId}}
Authorization: Bearer {{accessToken}}

###

### 16. List Conversations
GET {{baseUrl}}/conversations
Authorization: Bearer {{accessToken}}

###
