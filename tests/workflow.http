@baseUrl = http://localhost:4000/api

### 1. Register
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "email": "workflow@example.com",
  "password": "Workflow123!"
}

###

### 2. Login
# @name login
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "workflow@example.com",
  "password": "Workflow123!"
}

###

### Auth Token
@accessToken = {{login.response.body.data.access_token}}

###

### 3. Get Me
GET {{baseUrl}}/auth/me
Authorization: Bearer {{accessToken}}

###

### 4. Create Mindmap from PDF (Unified Workflow)
# @name createMindmap
POST {{baseUrl}}/mindmaps/create-from-pdf
Authorization: Bearer {{accessToken}}
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="file"; filename="Building_Efficient_SLM.pdf"
Content-Type: application/pdf

< ./Building_Efficient_SLM.pdf
------WebKitFormBoundary7MA4YWxkTrZu0gW--

###

### Mindmap ID
@mindmapId = {{createMindmap.response.body.data.id}}

###

### 5. Get Mindmap Details
GET {{baseUrl}}/mindmaps/{{mindmapId}}
Authorization: Bearer {{accessToken}}

###

### 6. Chat with Specific Node (Scoped RAG)
# Use node ID from mindmap_data.nodes (e.g., "node-1", "node-2")
POST {{baseUrl}}/mindmaps/d2711214-67c0-4541-8c06-ef2764b3f7ca/nodes/node-1/chat
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "question": "Explain this topic in detail",
  "stream": true
}

###

### 7. Create Conversation
# @name createConversation
POST {{baseUrl}}/conversations
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "title": "AI Discussion"
}

###

### Conversation Id
@conversationId = {{createConversation.response.body.data.id}}

###

### 8. Chat (General - All Context)
POST {{baseUrl}}/chat
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "question": "What are neural networks?",
  "stream": true
}

###

### 9. Get Conversation
GET {{baseUrl}}/conversations/{{conversationId}}
Authorization: Bearer {{accessToken}}

###

### 10. List Mindmaps
GET {{baseUrl}}/mindmaps
Authorization: Bearer {{accessToken}}

###

### 11. List Conversations
GET {{baseUrl}}/conversations
Authorization: Bearer {{accessToken}}

###

### 12. Update Conversation
PUT {{baseUrl}}/conversations/{{conversationId}}
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "title": "Updated Discussion"
}

###

### 13. Query (Non-streaming)
POST {{baseUrl}}/query
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "question": "What is AI?",
  "stream": false
}

###

### 14. Create Empty Mindmap
POST {{baseUrl}}/mindmaps
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
  "title": "Manual Mindmap"
}

###
